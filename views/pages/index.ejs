<!DOCTYPE html>
<html>
  <%- include("../templates/head.ejs") %>
  <body>
    <%- include("../templates/navBar.ejs") %>

    <div class="container-fluid bg-gradient text-center py-5">
      <div class="card shadow-lg p-4 mb-4 rounded-3">
        <h1 class="display-4 fw-bold">Welcome to Flora</h1>
      </div>
      <p class="lead">Please select your role:</p>
      <div class="row justify-content-center mt-4">
        <div class="col-md-4">
          <a href="/customer" class="btn btn-primary btn-lg rounded-pill w-100 mb-3">
            <i class="fa fa-user"></i> Customer
          </a>
        </div>
        <div class="col-md-4">
          <% if (session && session.seller) { %>
            <!-- If session exists, redirect directly to sellerOptions -->
            <a href="/seller" class="btn btn-success btn-lg rounded-pill w-100">
              <i class="fa fa-user-tie"></i> Seller
            </a>
          <% } else { %>
            <!-- If no session, show the modal -->
            <button 
              type="button" 
              class="btn btn-success btn-lg rounded-pill w-100" 
              data-bs-toggle="modal" 
              data-bs-target="#sellerModal">
              <i class="fa fa-user-tie"></i> Seller
            </button>
          <% } %>
        </div>
      </div>
    </div>

    <% if (!session || !session.seller) { %>
      <!-- Seller Modal -->
      <div class="modal fade" id="sellerModal" tabindex="-1" aria-labelledby="sellerModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="sellerModalLabel">Are you a registered seller?</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>Are you an existing registered seller?</p>
              <div class="d-flex justify-content-between">
                <a href="/seller" class="btn btn-primary">
                  <i class="fa fa-check-circle"></i> Yes, I am registered
                </a>
                <a href="/registerSeller" class="btn btn-secondary">
                  <i class="fa fa-user-plus"></i> No, I need to register
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% } %>

    <!-- Highlighted Sections -->
    <div class="container mt-5">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card hover-card text-center p-4">
            <h5 class="card-title text-primary">Our Vision</h5>
            <p class="card-text">Creating a sustainable, accessible flower marketplace for everyone.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card hover-card text-center p-4">
            <h5 class="card-title text-primary">Our Products</h5>
            <p class="card-text">Fresh flowers like White Jasmine, Pink Jasmine, and Crossandra directly from the farm.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card hover-card text-center p-4">
            <h5 class="card-title text-primary">Our Services</h5>
            <p class="card-text">Browse and purchase flowers from the nearest vendors with ease.</p>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  </body>
</html>
